(this["webpackJsonptodo-list-redux"]=this["webpackJsonptodo-list-redux"]||[]).push([[0],{23:function(e,t,a){e.exports={"collection-item":"src_collection-item__3iKRV",icons:"src_icons__12r9A",completed:"src_completed__1pKJi"}},39:function(e,t,a){e.exports=a(50)},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l,i,u,s=a(7),d=a(8),m=a(13),p=a(31),f=a(51),b=a(52),O=Object(b.a)("ADD_TODO"),v=Object(b.a)("ADD_ALL_TODO"),E=Object(b.a)("TOGGLE_TODO"),h=Object(b.a)("DELETE_TODO"),j=Object(b.a)("CHANGE_TODO"),g=Object(b.a)("CLEAR_TODOS"),N=[],x=Object(f.a)((l={},Object(d.a)(l,v,(function(e,t){var a=t.payload;return Object(p.a)(a)})),Object(d.a)(l,O,(function(e,t){var a=t.payload;return[].concat(Object(p.a)(e),[Object(m.a)({},a)])})),Object(d.a)(l,E,(function(e,t){var a=t.payload;return e.map((function(e){return e.id===a?Object(m.a)(Object(m.a)({},e),{},{completed:!e.completed}):e}))})),Object(d.a)(l,h,(function(e,t){var a=t.payload;return e.filter((function(e){return e.id!==a}))})),Object(d.a)(l,j,(function(e,t){var a=t.payload;return e.map((function(e){return e.id===a.id&&(e.text=a.text),e}))})),Object(d.a)(l,g,(function(e,t){t.payload;return N})),l),N),y=Object(b.a)("USER_CHANGE"),k=Object(b.a)("USER_LOGOUT"),w=Object(f.a)((i={},Object(d.a)(i,y,(function(e,t){var a=t.payload;return{user:a.user,id:a.id}})),Object(d.a)(i,k,(function(e,t){t.payload;return Object(m.a)(Object(m.a)({},e),{},{user:"",id:""})})),i),{user:"",id:""}),S=Object(s.c)({list:x,user:w}),D=a(2),_=a(10),C=a(11),T=a.n(C),A=a(17),P=function(){return{request:Object(n.useCallback)(function(){var e=Object(A.a)(T.a.mark((function e(t){var a,n,r,c,o=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>1&&void 0!==o[1]?o[1]:"GET",n=o.length>2&&void 0!==o[2]?o[2]:null,r=o.length>3&&void 0!==o[3]?o[3]:{},e.prev=3,n&&(n=JSON.stringify(n),r["Content-Type"]="application/json"),e.next=7,fetch(t,{method:a,body:n,headers:r});case 7:return c=e.sent,e.next=10,c.json();case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(3),e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),[])}},L=function(e){return"/api/todos/users/".concat(e)},G=function(){var e=Object(n.useState)(""),t=Object(_.a)(e,2),a=t[0],c=t[1],o=Object(D.d)((function(e){return e.user})).id,l=Object(D.c)(),i=P().request;return r.a.createElement("div",{className:"row"},r.a.createElement("form",{action:"submit",onSubmit:function(e){if(e.preventDefault(),!o)return alert("\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432\u043d\u0430\u0447\u0430\u043b\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443!!!");if(!(a.trim().length<5)){var t={text:a.trim(),id:Date.now().toString(),completed:!1};i(function(e){return"https://todo1111112.herokuapp.com/api/todos/users/".concat(e)}(o),"POST",t),l(O(t)),c("")}}},r.a.createElement("div",{className:"file-field input-field"},r.a.createElement("button",{className:"btn",type:"submit"},r.a.createElement("span",null,"Add")),r.a.createElement("div",{className:"file-path-wrapper"},r.a.createElement("input",{className:"file-path validate",value:a,onChange:function(e){var t=e.target;return c(t.value)},type:"text",placeholder:"Add your todo (min 5 symbols)"})))))},I=a(23),q=a.n(I),J=a(19),R=function(e){var t,a=e.todo,c=e.index,o=Object(n.useState)(null!==(t=a.text)&&void 0!==t?t:"error text"),l=Object(_.a)(o,2),i=l[0],u=l[1],s=Object(n.useState)(!1),d=Object(_.a)(s,2),m=d[0],p=d[1],f=Object(D.c)(),b=Object(D.d)((function(e){return e.user})),O=P().request,v=function(){i.trim()&&(m&&(O(function(e,t){return"https://todo1111112.herokuapp.com/api/todos/users/".concat(e,"/change/text/").concat(t)}(b.id,a.id),"POST",{text:i}),f(j({text:i,id:a.id}))),p(!m))};return r.a.createElement(J.b,{draggableId:a.id,index:c,key:c},(function(e){return r.a.createElement("li",Object.assign({className:(null===a||void 0===a?void 0:a.completed)?"".concat(q.a["collection-item"]," ").concat(q.a.completed):q.a["collection-item"],ref:e.innerRef},e.draggableProps,e.dragHandleProps),r.a.createElement("label",{onChange:function(){O(function(e,t){return"https://todo1111112.herokuapp.com/api/todos/users/".concat(e,"/change/completed/").concat(t)}(b.id,a.id),"POST",{completed:!a.completed}),f(E(a.id))}},r.a.createElement("input",{type:"checkbox",defaultChecked:a.completed}),r.a.createElement("span",null,"''")),m?r.a.createElement("form",{action:"#",onSubmit:function(e){e.preventDefault(),v()}},r.a.createElement("input",{type:"text",value:i,onChange:function(e){return function(e){var t=e.target;u(t.value)}(e)},onFocus:function(e){return e.target.select()}})):r.a.createElement("span",null,i),r.a.createElement("div",{className:q.a.icons},r.a.createElement("i",{className:"material-icons",onClick:function(){return v()}},"create"),r.a.createElement("i",{className:"material-icons",onClick:function(){O(function(e,t){return"https://todo1111112.herokuapp.com/api/todos/users/".concat(e,"/delete/").concat(t)}(b.id,a.id),"GET"),f(h(a.id))}},"cancel")))}))},H=function(){var e=Object(D.c)(),t=Object(D.d)((function(e){return e.list})),a=Object(D.d)((function(e){return e.user})).id,c=JSON.parse(localStorage.getItem("user")),o=P().request;return Object(n.useEffect)(Object(n.useCallback)((function(){(function(){var t=Object(A.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(L(a||c.id));case 2:n=t.sent,e(v(n)),e(y(c));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,a,c,o]),[]),r.a.createElement(J.c,{droppableId:Date.now().toString()},(function(e){return r.a.createElement("ul",Object.assign({className:"collection with-header"},e.droppableProps,{ref:e.innerRef}),(null===t||void 0===t?void 0:t.length)?t.map((function(e,t){return r.a.createElement(R,{index:t,todo:e,key:e.id})})):r.a.createElement("h5",null,"Your list clear"),e.placeholder)}))},U=a(18),B=function(){var e=Object(D.d)((function(e){return e.user})),t=Object(D.c)();return r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper container"},r.a.createElement("a",{href:"/",className:"brand-logo"},"TO-DO APP"),r.a.createElement("ul",{id:"nav-mobile",className:"right"},e.user?r.a.createElement("li",null,r.a.createElement(U.b,{to:"/"},e.user)):"",r.a.createElement("li",{onClick:function(){t(k()),t(g())}},r.a.createElement(U.b,{to:"/auth"},e.user?"LogOut":"LogIn")))))},F=a(35),K=a(36),W=a(38),z=a(37),V=function(e){Object(W.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).state={hasError:!1,error:""},n}return Object(K.a)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?r.a.createElement("h1",null,"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. Error: ",this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),a}(r.a.Component),Y=a(3),$=function(){var e=Object(n.useState)(""),t=Object(_.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),l=Object(_.a)(o,2),i=l[0],u=l[1],s=Object(n.useState)(!1),d=Object(_.a)(s,2),m=d[0],p=d[1],f=Object(D.c)(),b=P().request,O=function(){var e=Object(A.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("https://todo1111112.herokuapp.com/api/auth/register_login","POST",{login:a,password:i});case 2:if((t=e.sent).errors){e.next=7;break}return f(y(t)),localStorage.setItem("user",JSON.stringify(t)),e.abrupt("return",p(!0));case 7:alert(t.errors);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m12"},r.a.createElement("div",{className:"card blue-grey darken-3 "},r.a.createElement("div",{className:"card-content white-text"},r.a.createElement("span",{className:"card-title"},"Auth"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{value:a,name:"login",type:"text",className:"validate",onChange:function(e){var t=e.target;c(t.value)}}),r.a.createElement("label",{className:"active"},"LogIn"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{value:i,name:"password",type:"text",className:"validate",onChange:function(e){var t=e.target;u(t.value)}}),r.a.createElement("label",{className:"active"},"Password"))))),r.a.createElement("div",{className:"card-action"},function(e){return e?r.a.createElement(Y.a,{to:"/"}):""}(m),r.a.createElement("a",{onClick:function(){return O()}},"Authorize")))))},M=function(){var e=Object(D.d)((function(e){return e})),t=e.list,a=e.user,n=Object(D.c)(),c=P().request;return r.a.createElement(U.a,null,r.a.createElement("main",null,r.a.createElement(V,null,r.a.createElement(B,null),r.a.createElement("div",{className:"container"},r.a.createElement(Y.d,null,r.a.createElement(Y.b,{path:"/auth"},r.a.createElement($,null)),r.a.createElement(Y.b,{path:"/"},r.a.createElement(G,null),r.a.createElement(J.a,{onDragEnd:function(e){var r=e.destination,o=e.source;if(r){var l,i,u,s=Array.from(t),d=s.splice(o.index,1),m=Object(_.a)(d,1)[0];s.splice(r.index,0,m),n(v(s)),c((l=a.id,i=r.index,u=o.index,"https://todo1111112.herokuapp.com/api/todos/users/".concat(l,"/replace/start/").concat(i,"/end/").concat(u)))}}},r.a.createElement(H,null))))))))};u=Object(s.e)(S),o.a.render(r.a.createElement(D.a,{store:u},r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.bd3e9f07.chunk.js.map